<script lang="ts">
	import { page } from '$app/stores';
	import HeaderConnectWallet from '$lib/components/headerv2/sub-components/HeaderConnectWallet.svelte';
	import HeaderLinksGroup from '$lib/components/headerv2/sub-components/HeaderLinksGroup.svelte';
	import HeaderLogo from '$lib/components/headerv2/sub-components/HeaderLogo.svelte';
	import { staticImages } from '$lib/components/images/staticImages';
	import MenuItem from './sub-components/MenuItem.svelte';

	type MenuItemType = {
		iconSVG: string;
		label: string;
	};
	let isNavOpen: Boolean = true;

	const toggleNavbar = () => {
		isNavOpen = !isNavOpen;
	};
	let checked = false;
	let isLightMode = true;

	const menuItems: MenuItemType[] = [
		{
			iconSVG: `
	  <path opacity="0.3" d="M10.25 16.2617C10.25 12.9108 13.0802 10.25 16.5 10.25C19.9198 10.25 22.75 12.9108 22.75 16.2617C22.75 17.8671 22.0953 19.3213 21.039 20.3939C20.9957 20.4379 20.9721 20.478 20.9621 20.5032C20.9595 20.5098 20.9581 20.5143 20.9575 20.5171C21.0261 20.8706 21.1789 21.1975 21.3988 21.468C21.5658 21.6733 21.6121 21.9514 21.5209 22.1998C21.4296 22.4482 21.2142 22.6301 20.954 22.6785C19.9913 22.8576 18.9951 22.6961 18.1416 22.2422C18.0361 22.1861 17.9664 22.1492 17.9148 22.1234C17.8665 22.1314 17.8009 22.1436 17.7025 22.1621C17.306 22.2365 16.9034 22.2739 16.4995 22.2734C13.08 22.2731 10.25 19.6125 10.25 16.2617Z" fill="#26272C"/>
						<path d="M11 1.25C5.64745 1.25 1.25 5.41003 1.25 10.61C1.25 13.1039 2.26637 15.3654 3.9126 17.037C4.14324 17.2712 4.2056 17.4985 4.1771 17.6507C4.05135 18.3102 3.76709 18.9225 3.35406 19.4306C3.18713 19.6359 3.14075 19.914 3.23202 20.1624C3.32329 20.4107 3.53869 20.5926 3.79885 20.641C5.26585 20.9139 6.7864 20.668 8.08964 19.9749C8.2562 19.8864 8.37575 19.8229 8.4685 19.7765C8.52845 19.7465 8.55843 19.7315 8.58217 19.7241C8.60591 19.7168 8.60802 19.7165 8.60802 19.7165C8.62702 19.714 8.64918 19.7137 8.67407 19.7175C8.77272 19.731 8.9062 19.7559 9.12044 19.7961C9.36087 19.8413 9.53788 19.5825 9.43432 19.3609C8.99592 18.4227 8.75 17.3758 8.75 16.2617C8.75 12.0181 12.3175 8.75 16.5 8.75C17.6243 8.75 18.7042 8.98615 19.6822 9.41393C20.1809 9.632 20.4302 9.74104 20.5719 9.62639C20.7137 9.51173 20.6649 9.27283 20.5673 8.79503C19.6849 4.47485 15.7127 1.25 11 1.25Z" fill="#26272C"/>
      `,
			label: 'Developer Chat'
		},
		{
			iconSVG: `<path opacity="0.3" d="M14.3818 1.51758C14.4521 1.63547 14.5099 1.75027 14.5557 1.85997C14.8718 2.46227 14.9856 3.15897 14.8086 3.81096C14.6221 4.49763 14.1297 5.06519 13.3781 5.363C13.0448 5.49504 12.9322 5.62171 12.8832 5.69582C12.8226 5.78722 12.7878 5.90153 12.7424 6.15096L12.73 6.2204C12.6913 6.4408 12.6319 6.77945 12.472 7.10204C12.2755 7.49855 11.9537 7.83691 11.4529 8.1015C10.0792 8.82724 8.22486 8.52531 6.55932 6.76545C5.75334 5.91383 5.45165 5.67373 4.91074 5.61664C4.90064 5.61557 4.89056 5.6143 4.88051 5.61283C4.54258 5.56322 3.86155 5.60633 3.09474 5.97939C1.93058 7.69747 1.25 9.77096 1.25 12.0026C1.25 17.8522 5.92204 22.6105 11.7381 22.7495C11.6633 22.694 11.5963 22.6419 11.5377 22.5943C10.925 22.1352 10.5804 21.5623 10.5448 20.8993C10.5115 20.2809 10.7568 19.711 11.0246 19.2505C11.4151 18.579 11.5337 18.3619 11.5951 18.1156C11.6603 17.8541 11.6657 17.5401 11.6657 16.6472C11.6657 16.1549 11.7376 15.6587 11.958 15.2152C12.1872 14.754 12.554 14.3971 13.0535 14.1662C13.988 13.7344 15.3453 13.7643 17.1462 14.1245C17.353 14.1658 17.5705 14.1346 17.8568 14.0168C18.0947 13.919 18.322 13.7888 18.6019 13.6284C18.6893 13.5784 18.7818 13.5254 18.8813 13.4696C19.6649 13.0299 20.736 12.5071 22.105 12.9882C22.1378 12.9997 22.1696 13.0135 22.2005 13.0294C22.3303 13.0964 22.4902 13.1953 22.6692 13.3264C22.7226 12.8924 22.75 12.4506 22.75 12.0026C22.75 6.88357 19.1726 2.60158 14.3818 1.51758Z" fill="#26272C"/>
						<path d="M11.9513 1.25195C12.7213 1.68974 13.0826 2.21084 13.1775 2.45218C13.1888 2.48079 13.2018 2.50867 13.2164 2.53569C13.3951 2.8647 13.4248 3.18164 13.3609 3.41707C13.3025 3.63208 13.1527 3.83802 12.8254 3.96768C12.2787 4.1843 11.8889 4.47952 11.6324 4.86687C11.3873 5.23693 11.3135 5.62366 11.2665 5.8812L11.2594 5.92038C11.211 6.18666 11.1877 6.3145 11.1279 6.43516C11.084 6.52383 11.001 6.64293 10.7521 6.77442C10.1265 7.10492 8.98199 7.14244 7.64865 5.73359C6.87835 4.91967 6.23126 4.25203 5.08288 4.12573C4.97057 4.10991 4.84734 4.0998 4.71484 4.09666C6.61862 2.34146 9.15988 1.26433 11.9513 1.25195Z" fill="#26272C"/>
						<path d="M22.3246 15.0061C22.0025 14.6824 21.717 14.4771 21.5556 14.3848C20.8664 14.1623 20.3209 14.3811 19.6156 14.7768C19.5477 14.8149 19.476 14.8561 19.4013 14.899C19.107 15.0681 18.7654 15.2643 18.4276 15.4032C17.9783 15.588 17.4478 15.7135 16.8523 15.5944C15.0817 15.2403 14.1473 15.3124 13.683 15.527C13.4831 15.6193 13.3737 15.7367 13.3015 15.8819C13.2206 16.0447 13.166 16.287 13.166 16.6463V16.7465C13.1662 17.5013 13.1663 18.0141 13.0509 18.4775C12.9318 18.9551 12.695 19.3619 12.3659 19.9275L12.3215 20.0036C12.1062 20.3739 12.033 20.6348 12.0429 20.8179C12.0501 20.9511 12.1048 21.1465 12.4459 21.3993C12.4557 21.4065 12.4652 21.414 12.4746 21.4217C12.8019 21.6898 13.4895 22.1474 14.3179 22.5013C18.1628 21.6565 21.2358 18.7536 22.3246 15.0061Z" fill="#26272C"/>`,
			label: 'Research Forum'
		},
		{
			iconSVG: `<path opacity="0.3" d="M12.5833 1.25C14.5342 1.24999 16.0706 1.24998 17.2712 1.40242C18.5001 1.55847 19.4904 1.88575 20.2745 2.62631C21.0647 3.37259 21.4194 4.32468 21.5875 5.50521C21.75 6.6473 21.75 8.10543 21.75 9.94072V14.0593C21.75 15.8946 21.75 17.3527 21.5875 18.4948C21.4194 19.6753 21.0647 20.6274 20.2745 21.3737C19.4904 22.1143 18.5001 22.4415 17.2712 22.5976C16.0706 22.75 14.5342 22.75 12.5833 22.75H11.4167C9.46586 22.75 7.92941 22.75 6.72885 22.5976C5.49987 22.4415 4.50965 22.1142 3.72552 21.3737C2.93534 20.6274 2.5806 19.6753 2.41255 18.4948C2.24997 17.3527 2.24998 15.8946 2.25 14.0593V9.94068C2.24998 8.10541 2.24997 6.64729 2.41255 5.50521C2.5806 4.32468 2.93534 3.37259 3.72552 2.62631C4.50965 1.88575 5.49987 1.55847 6.72885 1.40242C7.92941 1.24998 9.46585 1.24999 11.4167 1.25H12.5833Z" fill="#26272C"/>
						<path fill-rule="evenodd" clip-rule="evenodd" d="M7 7C7 6.44772 7.44772 6 8 6H16C16.5523 6 17 6.44772 17 7C17 7.55228 16.5523 8 16 8H8C7.44772 8 7 7.55228 7 7Z" fill="#26272C"/>
						<path fill-rule="evenodd" clip-rule="evenodd" d="M7 12C7 11.4477 7.44772 11 8 11H16C16.5523 11 17 11.4477 17 12C17 12.5523 16.5523 13 16 13H8C7.44772 13 7 12.5523 7 12Z" fill="#26272C"/>
						<path fill-rule="evenodd" clip-rule="evenodd" d="M7 17C7 16.4477 7.44772 16 8 16H12C12.5523 16 13 16.4477 13 17C13 17.5523 12.5523 18 12 18H8C7.44772 18 7 17.5523 7 17Z" fill="#26272C"/>`,
			label: 'Blog'
		}
	];
</script>

<div>
	<div
		class={`nav-bg fixed left-0 z-10 h-screen ${
			isNavOpen ? 'w-72' : 'w-28'
		} transition-all duration-300 ease-out`}
	>
		<div class="relative flex h-full w-full flex-col">
			<div class={`mx-[28px] mb-[32px] mt-auto rounded-2xl ${isNavOpen ? 'bg-[#F4F4F6]' : ''}`}>
				{#each menuItems as item}
					<MenuItem bind:isNavOpen iconSVG={item.iconSVG} label={item.label} />
				{/each}

				<div class="px-4 py-4">
					<label
						class={`grid cursor-pointer place-items-center ${isNavOpen ? 'w-[48px]' : 'w-[24px]'}`}
					>
						<input
							type="checkbox"
							value="synthwave"
							bind:checked
							class={`theme-controller toggle ${
								isNavOpen
									? 'col-span-2 col-start-1 row-start-1 w-[48px]'
									: 'col-span-1 col-start-1 row-start-1  w-[24px]'
							}`}
						/>
						<!-- {#if isNavOpen} -->
						<svg
							class={`col-start-1 row-start-1 fill-base-100 stroke-base-100`}
							width="14"
							height="14"
							viewBox="0 0 14 14"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								d="M9.91634 6.99967C9.91634 8.61049 8.61049 9.91634 6.99967 9.91634C5.38885 9.91634 4.08301 8.61049 4.08301 6.99967C4.08301 5.38885 5.38885 4.08301 6.99967 4.08301C8.61049 4.08301 9.91634 5.38885 9.91634 6.99967Z"
								stroke="#030115"
								stroke-width="0.875"
							/>
							<path
								opacity="0.4"
								d="M7.00033 1.16699V2.04199M7.00033 11.9587V12.8337M11.125 11.1253L10.5062 10.5065M3.49406 3.49406L2.87534 2.87534M12.8337 7.00033H11.9587M2.04199 7.00033H1.16699M11.1253 2.87541L10.5065 3.49412M3.49435 10.5066L2.87563 11.1253"
								stroke="#030115"
								stroke-width="0.875"
								stroke-linecap="round"
							/>
						</svg>

						<svg
							width="14"
							height="14"
							viewBox="0 0 14 14"
							fill="none"
							class={`${isNavOpen ? 'col-start-2' : 'col-start-1'} row-start-1`}
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								opacity="0.4"
								d="M12.5443 8.21207C11.8444 8.5857 11.0452 8.79757 10.1964 8.79757C7.43958 8.79757 5.20472 6.5627 5.20472 3.80584C5.20472 2.95709 5.41655 2.15782 5.79022 1.45801C3.30873 2.03958 1.46094 4.26683 1.46094 6.92565C1.46094 10.0271 3.97516 12.5413 7.07663 12.5413C9.73546 12.5413 11.9627 10.6936 12.5443 8.21207Z"
								stroke="white"
								stroke-width="0.875"
								stroke-linecap="round"
								stroke-linejoin="round"
							/>
							<path
								d="M12.5443 8.21207C11.9627 10.6936 9.73546 12.5413 7.07663 12.5413C3.97516 12.5413 1.46094 10.0271 1.46094 6.92565C1.46094 4.26683 3.30873 2.03958 5.79022 1.45801"
								stroke="white"
								stroke-width="0.875"
								stroke-linecap="round"
								stroke-linejoin="round"
							/>
						</svg>
						<!-- {/if} -->
						<!-- {#if !isNavOpen && checked}
							<svg
								width="14"
								height="14"
								viewBox="0 0 14 14"
								fill="none"
								class="col-start-1 row-start-1"
								xmlns="http://www.w3.org/2000/svg"
							>
								<path
									opacity="0.4"
									d="M12.5443 8.21207C11.8444 8.5857 11.0452 8.79757 10.1964 8.79757C7.43958 8.79757 5.20472 6.5627 5.20472 3.80584C5.20472 2.95709 5.41655 2.15782 5.79022 1.45801C3.30873 2.03958 1.46094 4.26683 1.46094 6.92565C1.46094 10.0271 3.97516 12.5413 7.07663 12.5413C9.73546 12.5413 11.9627 10.6936 12.5443 8.21207Z"
									stroke="white"
									stroke-width="0.875"
									stroke-linecap="round"
									stroke-linejoin="round"
								/>
								<path
									d="M12.5443 8.21207C11.9627 10.6936 9.73546 12.5413 7.07663 12.5413C3.97516 12.5413 1.46094 10.0271 1.46094 6.92565C1.46094 4.26683 3.30873 2.03958 5.79022 1.45801"
									stroke="white"
									stroke-width="0.875"
									stroke-linecap="round"
									stroke-linejoin="round"
								/>
							</svg>
						{/if}
						{#if !isNavOpen && !checked}
							<svg
								class={`col-start-1 row-start-1 fill-base-100 stroke-base-100`}
								width="14"
								height="14"
								viewBox="0 0 14 14"
								fill="none"
								xmlns="http://www.w3.org/2000/svg"
							>
								<path
									d="M9.91634 6.99967C9.91634 8.61049 8.61049 9.91634 6.99967 9.91634C5.38885 9.91634 4.08301 8.61049 4.08301 6.99967C4.08301 5.38885 5.38885 4.08301 6.99967 4.08301C8.61049 4.08301 9.91634 5.38885 9.91634 6.99967Z"
									stroke="#030115"
									stroke-width="0.875"
								/>
								<path
									opacity="0.4"
									d="M7.00033 1.16699V2.04199M7.00033 11.9587V12.8337M11.125 11.1253L10.5062 10.5065M3.49406 3.49406L2.87534 2.87534M12.8337 7.00033H11.9587M2.04199 7.00033H1.16699M11.1253 2.87541L10.5065 3.49412M3.49435 10.5066L2.87563 11.1253"
									stroke="#030115"
									stroke-width="0.875"
									stroke-linecap="round"
								/>
							</svg>
						{/if} -->
					</label>
				</div>
			</div>
			<button
				class="absolute right-0 top-1/2 translate-x-1/2 translate-y-1/2 cursor-pointer"
				on:click={toggleNavbar}
			>
				<img
					src={staticImages.navButton}
					class={`${isNavOpen ? '' : 'rotate-180'} transition-all duration-300 ease-out`}
					alt="nav-btn"
				/>
			</button>
		</div>
	</div>
	<div class="nav-bg top-0 flex h-20 w-full items-center justify-end">
		<div class="pr-4">
			<HeaderConnectWallet />
		</div>
	</div>
</div>

<style>
	.toggle,
	.toggle[checked='false'],
	.toggle[aria-checked='false'] .bg-base-content {
		background-color: #fff;
	}
	.toggle:checked,
	.toggle[checked='true'],
	.toggle[aria-checked='true'] .bg-base-content {
		background-color: #17191c;
	}
	.toggle {
		--tglbg: #d9dade;
		box-shadow:
			var(--handleoffsetcalculator) 0 0 2px var(--tglbg) inset,
			0 0 0 2px var(--tglbg) inset,
			var(--togglehandleborder);
		border: none;
	}
	.toggle:checked {
		--tglbg: #3e3f47;
	}

	.toggle:checked + svg {
		opacity: 0;
		visibility: hidden;
	}
	.toggle + svg + svg:last-of-type {
		opacity: 0;
		visibility: hidden;
	}
	.toggle:checked + svg + svg:last-of-type {
		opacity: 1;
		visibility: visible;
	}
</style>
